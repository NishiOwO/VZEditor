==============================================================================
	ＶZ Editor Version 1.57a Copyright (C) 1989-92 by c.mos
			ＲＥＡＤＭＥ．ＤＯＣ
==============================================================================

Welcome to

	====        ====
	====       ====
	====      ====
	====     ====    ==========
	====    ====    ==========     ///////     //  //   //
	====   ====        ====       //       /////     //////  ////  // //
	====  ====       ====        //////  //  //  //   //   //  // ////
	=========     ==========    //      //  //  //   //   //  // //
	========     ==========    ///////  /////  //    ///  ////  //

　このたびは、ＶＺエディタをお買い求め頂きまして、誠にありがとうございます。
ご使用になる前に、まずこのファイルをお読みください。

							ESC-Q to Exit

　




			　	　目　次
		-----------------------------------------
		　　１．本ソフトウェアのご使用について
		　　２．アフターサポートについて
		　　３．マスターディスクの内容
		　　４．インストールについて
		　　５．最新版の情報
		　　６．使用上の注意事項
		-----------------------------------------




※　Ｖｅｒ１．５に関する情報は、ＶＺ１５．ＤＯＣに移しました。




		-----------------------------------------
		　　１．本ソフトウェアのご使用について
		-----------------------------------------

１．本ソフトウェアの著作権は、兵藤嘉彦（c.mos）が所有しています。また販売権は
　　（株）Ｖｉｌｌａｇｅ　Ｃｅｎｔｅｒが所有しています。
２．本ソフトウェア（ＶＺエディタ）またはその複製を、同時に２人以上で使用するこ
　　とはできません。
３．本ソフトウェアには、ソースコードが付属しています。本製品を改良もしくは他機
　　種へ移植する場合に限り、その変更・追加された部分のソースリストの転載・頒布
　　は自由です。
４．本ソフトウェアに含まれるファイルのうち、ＶＺエディタ本体（vz???.com）とそ
　　のソースコードを除くすべてのファイルの転載・頒布は自由です。
５．３，４項の転載・頒布に際しては、１項で述べた所有権を明示しなくてはなりませ
　　ん。
６．本マニュアルの一部または全部を、販売者に無断で複写・転載することはできませ
　　ん。
７．本製品をご使用になった上で生じたいかなる損害に対しても、著作者および販売者
　　は一切の責任を負いません。
８．学校や企業において多人数でのご購入を予定される場合は、ご相談ください。




		-----------------------------------------
		　　２．アフターサポートについて
		-----------------------------------------

■　アフターサポートや将来のバージョンアップをご希望の方は、事前に弊社までレジ
　ストレーションカードをご返送ください。

■　テクニカルサポートの窓口は、下記のとおりです。
	・サポート専用電話　　０３−３２３９−９６１５　
	　（祭日を除く、毎週（火）（土）の　１３：００〜１６：００）
	・ＦＡＸ　０３−３２２１−１７６８
	※　これ以外のサポート（郵便等）は原則的に受け付けておりません。

■　誤動作が発生し、サポートをお受けになる場合は、事前に以下の事項をチェック
　　してください。
	・誤動作の再現性はあるか？
	・標準添付のＤＥＦファイルで再現するか？
	・他の常駐ソフトやＦＥＰ等を外しても再現するか？
	・ＭＳ-ＤＯＳのバージョンが古くないか？

■　本Ｖｅｒ１．５７は、Ｖｅｒ１．５の最終バージョンです。
　　次のＶｅｒ２．０の発売時期は未定ですが、バージョンアップの際は、ご案内を
　　お送りします。
　　
■　本ディスクに含まれる VZIBM.COM は、ＤＯＳ／Ｖでは動作いたしません。
　　ＤＯＳ／Ｖ、ＰＳ／５５版ＶＺを別途用意しておりますので、お求めになりたい
　　方は、マニュアル巻末の郵便振替用紙にて、お申し込みください。




		-----------------------------------------
		　　３．マスターディスクの内容
		-----------------------------------------

　　ＶＺエディタＶｅｒ１.５のマスターディスクは、ルートディレクトリのファイル
　と、いくつかのサブディレクトリで構成されています。

	README.DOC	：本ドキュメント
	VZ.COM		：ＶＺ本体		（ＰＣ-９８０１版）
	VZ.DEF		：標準ＤＥＦファイル
	VZ.DOC		：オンラインドキュメント（Ｖｅｒ１．０用）
※	VZ15.DOC	：Ｖｅｒ１．５のドキュメント
	VZS.COM		：スモール版ＶＺ本体	（ＰＣ-９８０１版）
	VZS.DEF		：スモール版ＶＺ用ＤＥＦファイル
※	VZL.COM		：スリム版ＶＺ本体	（ＰＣ-９８０１版）
	EZKEY.COM	：ＥＺＫＥＹ　		（ＰＣ-９８０１版）
	EZKEY.DOC	：ＥＺＫＥＹ　ドキュメント
	VMAP.COM	：ＶＭＡＰ　メモリ情報表示ツール
	VMAP.DOC	：ＶＭＡＰ　ドキュメント
	CHKTSR.COM	：ＣＨＫＴＳＲ　常駐プログラム判定コマンド
	CHKTSR.DOC	：ＣＨＫＴＳＲ　ドキュメント
	START.BAT	：+
	SAMPLE1.TXT	：+ 第１章　練習用ファイル
	SAMPLE2.TXT	：+
	MACRO.DOC	：マクロ使用上の注意と追加マクロ集
	J31     <DIR>	：Ｊ-３１００版サブディレクトリ
	IBM     <DIR>	：ＩＢＭ ＰＣ／ＡＸ版サブディレクトリ
	SRC     <DIR>	：ソースコードサブディレクトリ
	VZE.DEF		：標準ＤＥＦファイル（英語記述）
	UPDATE.DEF	：ＤＥＦファイルの可変部（マニュアル『１０．２』参照）
	HELP.DEF	：ヘルプマクロ（vz.defには組み込み済み）
	HELPE.DEF	：ヘルプマクロ（英語記述）
	WS.DEF		：WordStarライクＤＥＦファイル
	MI.DEF		：MifesライクＤＥＦファイル
	CMOS.DEF	：自己流ＤＥＦファイル
	TOOL.DEF	：ツール集マクロ
	BLOCK.DEF	：矩形ブロックマクロ
	KEISEN.DEF	：作表マクロ（９８罫線）
	KEISEN_J.DEF	：作表マクロ（新ＪＩＳ罫線）
	CVTKEI.DEF	：９８←→新ＪＩＳ罫線文字変換マクロ
	ZENHAN.DEF	：全角／半角変換マクロ
	GAME.DEF	：ゲームマクロ
	GAME.BAT	：ゲームマクロ起動用バッチファイル
※	MOREMAC.DEF	：外部マクロをメニューで呼び出すマクロ
※	MOREMAC.DOC	：MOREMAC ドキュメント
	INSTALL.BAT	：インストール用バッチファイル
	README.BAT	：README.DOCを読むためのバッチファイル

※ は、Ver1.57で新たに追加されたファイルです。

　VZL.COM、およびJ31ディレクトリのVZJ31L.COMは、約６００バイトサイズの小さい
「スリム版」です。以下の仕様が変更されています。

１．ｉ１８６モードでアセンブル（VZL.COMのみ）
２． -W オプションを削除
３．バックアップモードを削除（.BAK, VZBAKいずれも）
４．メモリ上へのテンポラリファイルの展開を削除
　　（ＥＭＳが存在し、Bq1を設定していればもともと使わない）

※　ＡＸ版はもともとサイズが小さいため、スリム版は省略しました。





		-----------------------------------------
		　　４．インストールについて
		-----------------------------------------

　ＶＺエディタのマスターディスクには、ＰＣ-９８０１版、Ｊ-３１００版、
ＩＢＭ ＰＣ／ＡＸ版の３種類のＶＺが入っています。まず以下の手順で、普段お使い
のＭＳ-ＤＯＳシステムおよびカナ漢字変換の入ったフロッピィディスク、またはハー
ドディスク（ハードＲＡＭ）へ、必要なファイルをコピーして下さい。

・フロッピィディスクドライブの１番目へ、ＶＺのマスターディスクをセットします。
　誤ってディスクを書き換えないように、ライトプロテクト状態にしておいて下さい。
・フロッピィディスクへコピーしたい場合は、もう一方のドライブへセットします。
・サブディレクトリを作ってその中へコピーしたい場合は、予めサブディレクトリを
　作成し、そこへcd（change directory）しておきます。(*1)
・ＶＺのマスターディスクのドライブ名を打ち込みます。(*2)
・「A>install <コピー先ドライブ名> [CR]」と打ち込みます。(*3)
・コピーが終了したら、「vz[CR]」でＶＺが起動します。(*4)

［例］（A:からC:\VZへコピー）
(1)	C>md \vz[CR]
	C>cd \vz[CR]
(2)	C>a:[CR]
(3)	A>install c:[CR]
(4)	C>vz[CR]

　ＶＺが起動すると、画面に【入力ファイル】というウィンドウが開きますので、
ここで編集したいファイル名を入力してください。[CR]のみ入力すると、ファイルの
一覧から選択できます。

　ＶＺを終了する時は、[F01]でメニューを表示して、[Q]を選択してください。
ファイルが修正されている時は、

	《修正テキストを出力しますか？ (Y/N)》

と聞いてきますから、セーブしたい場合は[Y]、したくない場合は[N]で答えます。




		-----------------------------------------
		　　５．最新版の情報
		-----------------------------------------

《Ver1.50》

■　ＥＭＳ上のテンポラリファイル
　ＥＭＳ上にテンポラリファイルを作成することが可能です。詳しくは『７．Ｖｅｒ
１.５の新しい機能』をご覧ください。

■　ＥＭＳの最大ページ数
　ＥＭＳの利用可能な最大ページ数は、マニュアルとは異なり「２ＭＢ」までです。

■　ＶＺＳ．ＣＯＭ
　ＶＺエディタからＤＯＳ環境機能を取り除いた縮小版「vzs.com」を添付しました。
これは、以下の機能が使用できません。
	・ファイラー機能
	・エイリアス、マルチステートメント、環境変数の参照
	・コンソール出力の取り込み
	・メインメモリへのテンポラリファイルの作成（ＥＭＳ上は可能）
	・スワップ機能

アプリケーションからエディタを呼び出す場合で動作メモリが特に小さい場合に、
ご利用ください。また、「vzs.def」は、必要メモリの小さいなＤＥＦファイルです。
「vzs.com」を起動すると自動的に読み込まれますが、「vz.com」でも使用できます。


《VZ Ver1.51》

■　添付ファイルのリードオンリ属性
　Ver1.50では、マスターディスク上で誤ってファイルを修正してしまわないために、
ファイルをリードオンリーにしていました。ところが、エコロジー等のツールでは、
ファイルをコピーする際に、リードオンリー属性のままコピーされてしまうものが
あるようです。このため Ver1.51では通常の属性に戻してあります。

■　ファンクションキーバッファの確保		(##150.02)
　Ver1.50では、-GV1〜3指定時にファンクションキーバッファを裏ＧＶＲＡＭ上に確保
していました。このため、ＶＺ実行時に裏ＧＶＲＡＭを使用するソフトを実行すると、
ＶＺ編集モード時のファンクションキーの内容が乱れる場合があります。Ver1.51では
これを従来どおりコードエリアに確保します。なお、この指定は「vz.inc」28行目の
「FARKEYTBL」ラベルで、いずれかに設定できます。

■　[ROLL UP]キーでプリンタを改行（PC98版）	(##150.03)
　Ver1.50では、特殊キーの取得方法を改善した際、[ROLL UP]キーで ^P に相当する
コード（10h）を入力していました。このため、プリンタの電源が入っている場合、
プリンタに改行コードを出力する場合があります。Ver1.51ではこれを修正するととも
に、ＤＯＳ３．３を使用する場合には、^P,^N 入力の際のこの現象も抑止しました。

■　常駐時＾Ｃでメモリアロケーションエラー	(##150.04)
　Ver1.50常駐時にlabel,optasm等のコマンドを実行し、これらを[CTRL]+[C]でブレーク
すると、その後の外部コマンド実行時点で「メモリアロケーションエラー」が発生して
いました。

■　WSIBM.DEF
　ＩＢＭ−ＰＣ版で「wsibm.def」が使用できませんでした。


《VZ Ver1.52》

■　大きなファイルのＡｐｐｅｎｄ		(##151.05)
　「Bt」のサイズを越えるファイルでＡｐｐｅｎｄ（[ESC]A）を実行すると、暴走しま
した。

■　コンソール画面で終了			(##151.06)
　テンポラリファイルを作成している時に、[SHIFT]+[ESC]でコンソール画面を表示し、
[ESC]QでＶＺを終了すると、テンポラリファイルが残りました。


■　セーブ時にタブサイズがリセット		(##151.07)
　^KIでタブサイズを４または８に切り替えた後、テキストをセーブすると、タブサイズ
が元に戻ってしまいました。

■　ＩＢＭ版で日本語メッセージ			(##151.08)
　ＩＢＭ版で、ハードエラーメッセージ、および[ESC]Iのファイル挿入時のメッセージ
が日本語になっており、正常に表示されませんでした。

■　スムーススクロールが停止しない		(##151.09)
　スクロール速度を低速にすると、キーを押し続けてから離しても、スクロールが停止
しない場合がありました。

■　ＡＴＯＫの[CTRL]+[BS]			(##151.10)
　ＡＴＯＫで[CTRL]+[BS]の確定文字の再変換機能が正常に動作しませんでした。
９８版、Ｊ-３１００版ともこれに対応しましたが、この機能を利用する場合、
[CTRL]+[BS]はコマンドまたはマクロキーとして定義しないでおいてください。

■　Ｊ-３１００版ＡＴＯＫの自動ＯＮ		(##151.11)
　Ｊ-３１００版で、常駐時にファイラーから編集ファイルをオープンすると、
ＡＴＯＫが自動ＯＮしませんでした。

■　ファイラーDrive not ready時の動作		(##151.12)
　ファイラーで以前にアクセスしていたＦＤがNot Readyになった場合、ファイラーが
立ち上がりませんでした。この場合は、カレントドライブを表示するようにしました。

■　ファイラーのカレントドライブ表示		(##151.13)
　ファイラーで、カレントドライブ／ディレクトリ反転表示が正常に表示されない場合
がありました。


《EZKEY Ver1.21》

■　[CTRL]+[GRPH]+[@]
　EZKEY Ver1.20は、[CTRL]+[GRPH]+[@]キーによる[GRPH]+[英字]入力モードの切り替
えが動作しませんでした。

■　[CTRL]+[GRPH]+[DEL]
　[CTRL]+[GRPH]+[DEL]によるリセット機能を改良し、３８６ＣＰＵの仮想８６モード
でも正常にリセット可能にしました。

《VMAP Ver1.04》

■　MELEMM.SYSの不正情報
　MELEMM.SYSをＥＭＳを使用せずに組込んだ場合、このドライバが不正なＥＭＳ情報を
返すために、VMAPが誤動作しました。


《VZ Ver1.53》

■　Ｊ-３１００版の＾Ｈ				(##152.14)
　Ｊ-３１００版で、編集モード以外で[CTRL]+[H]キーが効きませんでした。

■　ファイラーディスク入れ替え時の動作		(##152.15)
　ファイラーで、ＦＤのサブディレクトリを表示させ、いったんファイラーを終了して
からディスクを抜き、その前のサブディレクトリが存在しないディスクを挿入して
ファイラーを起動すると、ＦＤのルートディレクトリを表示せず、カレントドライブの
内容を表示してしまいました。

■　ＩＢＭ ＰＣ版の[F12]キー			(##152.16)
　ＩＢＭ ＰＣ版で、「FK+」に設定しても[F11],[F12]キーを利用できませんでした。

■　ＥＳＣ０／ＥＳＣ１				(##152.17)
　コンソール出力の取り込み機能で、以下のエスケープシーケンスで取り込みの中断／
開始をコントロールできるようになりました。
	ＥＳＣ０　（1Bh,30h）	：中断
	ＥＳＣ１　（1Bh,31h）	：開始

■　「SW0」時のスワップ				(##152.18)
　「SW0」指定でスワップ機能の抑止を指定したにも関わらず、コマンド実行時の大文字
指定によって、「SW1」と同様にスワップされてしまいました。

■　特殊なウィンドウ切り替え動作		(##152.19)
　以下の手順でfile_aがなくなってしまいました。
	vz file_a file_b :file_b
	[SHIFT]+[ESC]    :console
	[F02]  (窓換)	 :file_a
	[F03]2 (文換)	 :file_b
	[ESC]C           :console
	[ESC]C           :???

■　ファイル名の「表」				(##152.20)
　ファイル名、ディレクトリ名に「表」（漢字の２バイト目が'\'）を用いた場合、
ファイル名に「\」が付いたと解釈して各種の誤動作を生じました。

■　ＩＢＭ ＰＣ版の低輝度モード			(##152.21)
　ＩＢＭ ＰＣ版で、ブリンク／低輝度モードの設定をＶＺ起動時にしか行なわなかった
ため、ＶＺ常駐後ブリンクモードに設定するソフトを動かすと、その後の表示が
ブリンクになってしまいました。

■　ＥＭＳテンポラリ時の不具合			(##152.22)
　ＥＭＳ使用時に「Bq」を設定してＥＭＳ上にテンポラリファイルを作成する場合、
大きなファイルを読み込んで、その先頭部分に[ESC]I等で約１ＫＢのファイルを挿入
すると、その後「テンポラリファイルエラー」等が発生し、誤動作しました。

■　「EM10/11」時のハングアップ			(##152.23)
　「EM10/11」で常駐させ、テキストを読み込んで[ESC]Eでコマンドラインへ移行し、
大文字指定でテキスト領域をスワップさせると、ハングアップしました。
これにより、
	「テキスト領域をスワップする際、EMSの残りが１〜３ページ」
の場合に限り、スワップが正常に動作しないことがわかりました。

■　「Ea+」で拡張子が「.1st」の場合		(##152.24)
　「Ea+」で「拡張子による表示桁数自動設定機能」を有効にした場合、「.1st」等
先頭１文字が数字の拡張子でも、桁数がその値（例えば1）に設定されていました。
このため、２桁以上の数字を指定しない場合は、桁数とはみなさないようにしました。

■　ファイラーの[:]コマンド			(##152.25)
　ファイラーで、[:]キーによるドライブ選択機能が、メニューの「Drive」の部分を
例えば「Log」に変更すると、動作しませんでした。

■　常駐時の「SYMDEB」実行時の不具合		(##152,26)
　「SW2/3」で常駐時、テキストを読み込んで[ESC]Eでコマンドラインへ移行し、
	A>symdeb[CR]
	-q[CR]
を２回実行し、[ESC]で編集モードへ戻ろうとするとハングアップしました。
また、編集テキストをスワップアウトして他のコマンドを常駐しようとするとハング
アップしました。

《VZ Ver1.53a》

■　console画面の参照				(##153.28)
　複数テキストをオープンして、[SHIFT]+[ESC]でconsole画面を表示すると、
もう一度[SHIFT]+[ESC]で戻った時、テキストが入れ替わってしまう。

《VZ Ver1.53b》

■　Ｊ３１版のスムーススクロール		(##153.29)
　Ｊ３１版でスムーススクロールが動かない。


《EZKEY Ver1.24》

■　[GRPH]+[英字]のエプソン機対応
　ＶＺで[GRPH]キーを利用するための変換方法を、BIOSに依存しない方法に改めまし
た。

■　常駐サイズの低減
　通常使用しないサブファンクション（-&で有効）を、常駐時に切り離すようにしま
した。

■　終了時のデジタルモード
　EZKEYの常駐を外す際に、デジタルモードに変更します。


《VZ Ver1.54》

■　EZKEYの制御					(##153.30)
　従来EZKEYの制御は、int9のベクタを参照して行なっていましたが、この場合ＡＴＯ
Ｋをadddrvで組み込むなどしてint9のベクタが更新されると、制御できませんでした。
本版より、EZKEYの制御割り込み「intE0h」を用いて制御します。また、ＶＺのマクロ
中でEZKEYの有無を示す変数「ZK」を用意しました。「ZK=1」の時、EZKEYが常駐して
います。

■　ファイル名が漢字の場合のVZBAK		(##153.31)
　##152.20の修正の影響で、ファイル名が漢字のファイルを、バックアップディレク
トリへバックアップすると、ファイル名の先頭文字が化けてしまいました。

■　カナシフト時の英字キー入力			(##153.32)
　カナシフトのままの状態で、メニューやY/N等の英字入力を可能にしました。

■　全角スペースのオートインデント		(##153.33)
　全角スペースのオートインデントを指定する、オプション「EJ」を追加しました。

■　&hマクロの返り値				(##153.34)
　システム関数&hで、カーソル位置の文字列がが１６進数でない場合に、−１を返し
ませんでした。

■　ラージファイルのリネーム			(##153.35)
　大きなファイルを読み込んだ直後に[ESC]Pでリネームすると、その後「テンポラリ
ファイルエラー」が発生しました。これは、ファイルの残りを読み込めなくなくなる
ためです。このような場合は、「変更できません」というメッセージを表示するよう
にしました。このメッセージが出た場合は、いったんファイルの最後にジャンプした
後、リネームして下さい。

■　ファイラーのtotal表示			(##153.36)
　ファイラーで、ファイルを選択した後、[W]で２つ目のディレクトリを表示すると、
１つ目のtotal数値がおかしくなる場合がありました。

■　画面分割時のテキスト切り替え		(##153.37)
　３つ以上のテキストをオープンして分割表示している時、テキストを切り替えると
画面が更新されない場合がありました。

■　タグ名の抽出方法改善			(##153.38)
　タグ名の抽出方法を、以下の様に変更しました。
	<英字>       = 〔A〜Z,a〜z〕
	<数字>       = 〔0〜9〕
	<ラベル>     = <英字>|<数字>|80h〜|〔! $ - _〕
	<パス記号>   = 〔: \ /〕
	<パス名>     = {１〜８文字の<ラベル>|<パス記号>} ※先頭は<数字>でない
	<拡張子>     = １〜３文字の<ラベル>
	<行番号>     = ~<数字>{<数字>}~<数字>

	<タグ行>     = … <パス名＞.<拡張子>[<行番号>] …

■　環境変数の参照方法の変更			(##153.39)
　従来環境変数は、int2Ehのセグメントで示されるルートのcommand.comのＰＳＰから
参照していました。しかしこの方法では、ハードディスクのメニュープログラム等から
ＶＺを呼び出す時、そのバッチ処理の中でＶＺ用の環境変数を設定しても参照されま
せん。本版より、ＰＳＰの16h,17hに格納されている「親プロセスのＰＳＰのセグメン
ト」（非公開）を参照して、親プロセスの環境変数を見るよう改めました。

■　file と file. の同一視			(##153.40)
　拡張子のないファイルを「file.」と指定しても、末尾のピリオドを削除して
「file」として記憶します。

■　Ｈ９８のハイレゾモード対応			(##153.41)
　ハイレゾモードの場合のカーソル形状の設定を、ＢＩＯＳコールで行なうことで、
Ｈ９８のハイレゾモードに対応しました。

■　キーボードマクロ記憶時のＴＡＢキー		(##153.42)
　キーボードマクロ記憶時にＴＡＢを入力すると、ＴＡＢコード（09h）として記憶
されていたが、これを#21コマンドに改めました。
（なぜ、敢えてコードに変換していたかは不明）

■　拡張子によるコマンド実行が起動しない	(##153.43)
　ファイルをオープンして[ESC]Eでコマンドラインへ移り、「dir [SHIFT]+[CR]」等で
ファイラーを経由してコマンドを実行します。その後[ESC]で編集画面へ戻り、
[ESC]O[CR]でファイラーをオープンして「.com」ファイルを選択すると、コマンド
ラインへ移行せずにファイルをオープンしてしまいました。

■　行末スペースのヒストリーワードサーチ	(##153.44)
　ヒストリー機能において入力行の最後にスペースがあると、それ以前のワードサーチ
が効かなくなりました。

■　-Bfでセーブ時のエラー			(##153.45)
　-Bf モード（テキストバッファをＥＭＳ上に取る）で複数ファイルをオープンし、
[ESC]Qで修正ファイルをセーブ時に何かのエラーが発生すると、その後動作がおかし
くなりました。

■　&sで画面がスクロールする（J31/IBM版）	(##153.46)
　マクロ中で&sを指定して画面の表示を抑止しても、スクロールはしてしまいました。

■　ファイラー「total」表示の属性変更		(##153.47)
　ファイラーで、ファイル選択時の「.. total」表示の属性を、Au（ファイラーカー
ソル）からAf（ウィンドウ先頭文字）に変更しました。

■　ファイルオープン時のエラーで誤動作		(##153.48)
　ファイルオープン時に「メモリが足りません」でオープンできない場合、別のファ
イルをオープンしようとすると、前に指定したファイルを読み込んでしまう。

■　ＥＭＳ使用アプリからの呼び出し		(##153.49)
　ＶＺを「-EMnn」で常駐し、ＥＭＳを使用するアプリケーションからＤＯＳコマンド
を実行すると、常駐しているＶＺがその時点のＥＭＳのマッピングをセーブしない
ために、アプリケーションへ戻った時点で誤動作する場合がありました。

■　超低速スムーススクロール			(##153.50)
　スムーススクロールに、[5]〜[8]のキーで１／２〜１／８速の超低速モードを追加
しました。

■　スムーススクロールのポーズ			(##153.51)
　ラッチモードでスムーススクロール中に、[ｽﾍﾟｰｽ]または[.]キーを押すと、スクロ
ールが一時停止します。任意のキーを押すと、再びスクロールが開始します。

■　縦分割時の最下行メッセージ			(##153.52)
　縦分割時に、右画面で検索文字列設定／サーチを行なうと、最下行のメッセージが
残ることがありました。

■　行番号ジャンプ後の行番号モード変更		(##153.53)
　行番号ジャンプ直後に、モードメニューで表示行番号モードに切り替えると、不正
な行番号が表示されました。

■　セーブファイル名の入力			(##153.54)
　[ESC]Sまたは[ESC]Pのファイル名入力時にヒストリーを参照すると、不正な文字が
表示されました。本来この部分ではヒストリーは使えません。

■　カーソル常時点灯（J31版）			(##153.55)
　Ｊ-３１００版のカーソル形状オプション（Ci,Co）で、常時点灯モードをサポートし
ました。

■　常駐時、他のソフトを常駐			(##153.56)
　ＶＺを-SW3で常駐後他のソフトを常駐すると、[CTRL]+[C]押下直後に[ESC]を押すと
ハングアップしました。

■　-Bf でカット／ペースト後誤動作		(##153.57)
　-Bf（無指定）モード（テキストバッファをＥＭＳ上にとる）で使用時、２つの
テキストを縦分割で表示してカット／ペーストを行ない、その後スムーススクロール
を実行すると画面が乱れました。

■　大量にスワップアウト後の不具合		(##153.58)
　沢山のテキストを読み込み、[ESC]EでＥＭＳとＴＭＰディスクの両方へスワップ
アウトさせると、戻った時にテキストの一部が破壊されることがありました。


■　「カーソル位置へ挿入」マクロ
　[ESC]I による「カーソル位置への挿入」マクロで、挿入するファイルの最後に
改行が入っていない場合、その行が挿入されません。ＤＥＦファイルを次のように
修正してください。

8  [ESC]I @I "I カーソル位置へ挿入"
	...
	#b #_
:C	#y (mb)?{ #W #i (ek)?? #B #W >C }
	#C &#T(n)
	#i (ek)?? #B
		↓
	#b #_ (ct)?{ #> #m #x }
:C	#y (mb)?{ #W #< #i (ek)?? #B #W >C }
	#C &#T(n)
	#< #i (ek)?? #B

■　プリント専科の呼び出しマクロ
　^KP によるプリント専科の呼び出しの際、編集中のテキストを必ずセーブしていま
したが、修正フラグが立っている時のみセーブするようにしました。

23 ^KP "プリント専科"
        ?. #] (mr==1)?{ #S #m }
        #E "ps " #P #m #[


《EZKEY Ver1.25》

■　ＤＯＳ３．３Ｃの対応
　日電のＭＳ−ＤＯＳ３．３Ｃで、裏ファンクションキーの表示が乱れました。

■　ＴＡＳＭ２．０対応
　EZKEYのソースをＴＡＳＭ２．０でアセンブルすると、エラーが発生しました。
これは本来ＴＡＳＭ２．０の不具合ですが、次のように変更することで回避できます。
	_iosys	segment at SEG_IOSYS
→	_iosys	segment at 0060h


《VZ Ver1.55》

■　システム関数「&n」				(##154.59)
　マクロのシステム関数「&n」で、数字が一桁しかないと返り値が-1になってしまい
ました。

■　Ｊ３１版、ＡＴＯＫ変換時の文字化け		(##154.60)
　Ｊ３１００のＡＴＯＫ７で漢字変換をする際、スペース変換後次の文字を入力して
それ以前の未確定文字を確定させると、最初の確定文字の１バイト目と２バイト目が
入れ替わって、文字化けすることがありました。
［再現手順］
	・新規ファイルをオープンする。
	・[漢字]キーを押して、ＡＴＯＫの入力モードにする。
	・「（に」と入力し、リターンで確定する。
	・「とう」と入力し、スペースで「等」に変換する。
	・リターンを押さずに「）」を入力し、ここでリターンを押す。
	・「（等）に」になるはずが、「（等j≠ﾉ」となる。
	・再現しない場合は[BS]を２回押して、「とう」の入力からやり直す。
この現象は、ＢＩＯＳのキーチェックと、ＭＳ-ＤＯＳのキー入力を混在して使用して
いると起こるようです。

■　Ｊ３１版、編集時のint28hコール		(##154.61)
　Ｊ３１００／ＩＢＭ ＰＣ版で、編集時のキー入力待ちでint28hをコールしていな
かったため、print等の常駐ソフトが動作しませんでした。

■　タグ名の抽出方法改善（その２）		(##154.62)
　Ver1.54で仕様を変更した際、拡張子のないパス名や、数字のみのパス名を取得する
ことができなくなりました。Ver1.55で、これらのパス名も取得可能となりました。
判定条件が甘い場合は、タグジャンプのマクロに次の１行を追加して、存在しない
ファイルをスキップさせて下さい。
	(s)?{ #[ #[ >A }

■　バッファ確保時のハングアップ		(##154.63)
　「vz -bm9000」のように、バッファを大きく取ると、起動時にハングアップしまし
た。これを修正すると同時に、確保できる領域も「-bm11000」（vz.defのみ）と、
１ＫＢほど広がりました。

■　コマンドエラーレベルの取得			(##154.64)
　常駐時に限り、ＤＯＳコマンド（外部コマンド）実行後のエラーレベルを、
「変数r」に格納します。この機能は、ファンクション４Ｃｈをハンドルして実現
されており、より大きい値を受け取った時のみ「変数r」を更新します。
　これに関与して、１以上のエラーレベルを受け取ると、マルチステートメントの
実行を強制終了するようにしました。

■　ブロックセーブ時のバックアップ		(##154.65)
　バックアップモードで、環境変数 VZBAK が設定されている場合、ブロックセーブで
１文字のファイル名を指定すると、同じ名前のサブディレクトリが作成されてしまい
ました。これは、ブロックセーブ時にはファイルのバックアップをしない、という仕様
変更で回避しました。

■　ファイラー[*]コマンド			(##154.66)
　ファイラーで、Maskメニューでマスクを選択した後、[*]キーで全ファイル表示に
戻します。この後いったんファイラーを抜けて、新たなパスで再びファイラーへ移行
すると、以前選択したマスクが効いてしまいました。

■　画面分割時のロールアップ／ダウン		(##154.67)
　２画面分ほどのテキストで、テキストの最後へジャンプ後、ロールアップ（^W）で
カーソルをテキストの先頭へ移動します。その後[ESC]Dでテキストを二重化し、ロール
ダウン（^Z）でカーソルを下へ移動すると、下のテキストまではみ出てしまいました。

■　^C 押下直後のデバイスエラー			(##154.68)
　常駐時、コマンドラインで ^C を押し、その直後に[ESC]でエディタを起動します。
この後、ライトプロテクトのＦＤへセーブする等してデバイスエラーが発生すると、
ＤＯＳのエラーメッセージが表示され、[A]で中断するとコマンドラインに落ちて
しまいました。

■　mi.defで編集時の[STOP]キー			(##154.69)
　「mi.def」で編集時に[STOP]キーを押すと、マクロの中断状態になってしまいまし
た。これは、マクロのキーとして ^C を使用すると発生します。

■ [ESC]+[数字] で強制終了
　編集中に[ESC]+[数字]を入力すると、強制終了してしまいます。これは、お使いの
ＤＥＦファイルのマクロの最後に、

28 [ESC]0 ""

の１行を加えておけば回避できます。

■　プリント専科の呼び出しマクロ（その２）
　ブロックモードの場合は、指定ブロック内をプリントアウト可能にしました。

23 ^KP "プリント専科"
        ?. #] (mb)? >A
        (mr==1)?{ #S #m }
        #E "ps " #P #m #[ .
:A	p="temp.tmp",
	#S &?(p) #m
	#E "ps " &?(p) #m
	"del " &?(p) #m #[


《EZKEY Ver1.27》

■　ＦＥＰのＯＮ／ＯＦＦ判定方法の改善
　従来の 0:053Dh で調べる方法だと、ＷＸＰ、松茸2.13（XMS対応版）では判定でき
ないため、INT 18h, AH=0Eh,0Fh のフックを追加しました。

■　[ｶﾅ],[CAPS]キーの無効化
　-K オプションで、[ｶﾅ],[CAPS]キーを無効化することができます。
	-K1 :[ｶﾅ]
	-K2 :[CAPS]
	-K3 :[ｶﾅ],[CAPS]
・ＬＥＤは消灯しません。
・[CTRL]+[GRPH]+[K]で、無効化のＯＮ／ＯＦＦを切り変えられます。
・THELPをお使いで -K を指定する場合は、EZKEY→THELPの順で常駐して下さい。
　逆の順序で常駐すると、THELP起動後ハングアップします。
　その他の int9 をフックする常駐ソフトと併用して、不具合が生じる場合は、
　-K オプションは指定しないで下さい。

■　-B0 指定時、背景色が付かない
　-B0 を指定すると、組み込み時に背景色が付きませんでした。


《VZ Ver1.56》

■　FARKEYTBL					(##155.70)
　Ver1.55は、VZ.INC の「FARKEYTBL equ TRUE」に対応していませんでした。

■　常駐ＶＺの不正な呼び出し			(##155.71)
　以下の様な場合に、常駐しているＶＺを呼び出してしまいました。
・「command /c copy vz.com b:」の様なコマンドを実行。
・アプリケーションのShell呼び出しで、「copy vz.com b:」を実行。

■　行末のスペース／ＴＡＢの挿入（&#68）	(##155.72)
　矩形ブロック挿入時の行末のスペース／ＴＡＢの挿入で、ＴＡＢが入らない場合に、
誤った個数のスペースが挿入されました。

■　ヒストリーワードサーチの不具合		(##155.73)
　「dir ab」、「dir abc」のように、途中まで前と同じでそれより長いコマンドを
入力し、「dir [↑][↑]」を実行すると、「dir ab」が現れませんでした。
　
■　-Bf で２テキスト分割時のカーソル位置不正	(##155.74)
　-Bf（無指定）で２つのテキストを分割表示時、カーソルの位置がおかしくなる事が
ありました。

■　-Bf でアペンド時のハングアップ		(##155.75)
　-Bf（無指定）で３２ＫＢ以上のファイルをオープンし、ただちにファイラーで選択
したファイルへアペンドしようとすると、ハングアップしました。
　
■　プロファイル情報出力時のディレクトリ	(##155.76)
 「#83:プロファイル情報のセーブ」コマンドを実行後、ファイラーのディレクトリが
 更新されませんでした。
　
■　親指シフトキーボードでのカナ入力		(##155.77)
　親指シフトキーボードでは、英字とカナの対応がＪＩＳと異なるため、「カナシフト
時の英字キー入力(##153.32)」が正常に動作しませんでした。このため、英字→カナの
変換テーブルをvz.defで指定するように仕様変更しました。カナキーの変換機能を使い
たい場合は、以下の行をvz.defに加えて下さい。

＜ＪＩＳカナ＞
* E その他
11	ﾞﾁｺｿｼｲﾊｷｸﾆﾏﾉﾘﾓﾐﾗｾﾀｽﾄｶﾅﾋﾃｻﾝﾂﾟｰﾑﾍﾛ

＜親指シフト＞
* E その他
11	､ｳﾍｽﾃﾀｹｾﾊｸﾄｷｲｿﾒﾂ,｡ｺｼｻﾁﾌｶﾋﾗ.?????

　この文字列は、英字の４０ｈ〜５Ｆｈのキーの位置にあるカナキーです。
＜親指シフト＞の場合、最後の５つがキーボードによって違いますから、お使いのキー
ボードに合わせて適当な文字を指定して下さい。特に「[ 〜 _ 」のコマンドを入力
する必要がなければ、「?」のままで構いません。（?自体意味のない文字ですが、
文字数だけは合わせて下さい）
　カナロックを使わない方は、この行（* E その他 11）を記述する必要はありません。

■　ＷＸＰ対応					(##155.78)
　日本語ＦＥＰ「ＷＸＰ」の以下のバージョンで、自動制御に対応しました。
	９８版：　　V.1.04　（FT4）
	Ｊ３１版：　V.1.03　（FT3）

■　Ｊ３１版：[ESC]EでＦＥＰの状態を保存しない	(##155.79)
　Ｊ３１００版で、ＦＥＰをＯＮの状態で[ESC]E,[ESC]を実行すると、ＦＥＰがＯＦＦ
されてしまいました。

■　Ｊ３１版：^H のキーアサイン			(##155.80)
　Ｊ３１００版で、^H にバックスペース以外のコマンドを割り当てる事ができません
でした。
　
■　タグ名の抽出方法改善（その３）		(##155.81)
　行番号の後にＴＡＢが入っている場合、タグ名と認識されませんでした。

■　ＡＴＯＫ７とｉｎｔ２９ｈ			(##155.82)
　ＡＴＯＫ７使用時（7TO6.COM常駐）、ＶＺを起動しＡＴＯＫをＯＮします。ここで
[ESC]Eでコマンドラインモードへ移り、しかる後に[ESC]で編集モードへ戻り、そのま
まＶＺを終了します。この後ＡＴＯＫをＯＮ／ＯＦＦすると、ハングアップしました。

■　常駐時 ^C で BREAK OFF			(##155.83)
　常駐時に、コマンドラインで ^C を押すと、BREAK OFF になってしまいました。

■　ＥＭＳ使用時のメモリ不足			(##155.84)
　ＥＭＳ使用時、「ＥＭＳ xxページ使用します」の後に「メモリが足りません」と
表示されて起動できない場合、ＥＭＳが解放されませんでした。

■　-EM0 -GV0 でメモリが少ない場合		(##155.85)
　-EM0 -GV0 で、ＥＭＳもＧＶＲＡＭも使わない設定にして、残りメモリ９０ＫＢ前後
の状態で起動すると、タイトルメッセージを表示した時点でハングアップしてしまいま
した。


《VZ Ver1.56a（DOS/V版）》

■　Ｊ３１：メニュー表示時の画面左端文字化け	(##156.86)
　Ｊ３１版で、ポップアップメニューが画面の右端に達すると、次の行の左端が文字化
けする場合がありました。これを防ぐ目的と、ＩＢＭ版のシャドウのマージンをとるた
め、メニュー表示位置を左上へずらしました。

■　ＩＢＭ：キーコンビネーションを拡張		(##156.87)
　ＩＢＭ １０１型キーボードでのCtrl/Alt+グレイキー（特殊キー）のほとんどのキー
コンビネーションを入力可能としました。

■　ＩＢＭ／Ｊ３１：ブリンクモードの設定	(##156.88)
　ＩＢＭ版での文字属性ｂｉｔ７「ブリンク／背景高輝度モード」を、ＤＯＳから編集
画面に移る度に設定するように変更しました。
　また、Ｊ３１版でこのファンクションを使用すると、Ｊ３１００ＺＤ／ＺＸで表示
不能になるため、削除しました。

■　ＩＢＭ：カーソル形状「￣」			(##156.89)
　ＩＢＭ版ＶＺ常駐時に、カーソル表示を停止するアプリケーションを実行すると、
それ以降カーソル形状が「￣」となってしまいました。

■　ＭＳ漢字ＡＰＩ				(##156.90)
　ＭＳ漢字ＡＰＩ対応ＦＥＰの自動制御に対応しました。
オプション「FR」で自動起動する場合の設定値は、次のとおりです。
	FR6: 最下行変換、FR10: カーソル位置変換

■　ＩＢＭ：アナログパレット			(##156.91)
　ＥＧＡ／ＶＧＡの６４色パレットに対応しました。
ＶＺ動作中に設定するパレットを、ＤＥＦファイルの次の箇所に記述します。

* Else
12	"$(00,08,02,0B,04,05,06,07,38,09,3A,3B,3C,3D,3E,3F)"

この部分をコメントとすれば、パレットは設定されません。

■　ＩＢＭ：カーソル行ハイライト		(##156.93)
　カーソル行ハイライト属性（Av）で指定したビットが、テキスト属性（An）でセット
されている場合、正常に表示できませんでした。

■　バッチファイルでの起動			(##156.94)
　「vz %1 %2 ..」のように、ＶＺをバッチファイルで呼び出す場合、末尾の余計な
スペースによってファイラーが不正なファイルマスクで起動されてしましました。


《VZ Ver1.57》

■　printfモジュールの改良			(##156.95)
　printfの次の部分を改良しました。
・ディスクの空きが大きい場合等で、ロング整数の除算オーバーフローが発生した
・３桁毎のカンマに対応（%[-][0][n][,][l]）
・１文字毎に文字出力をコールせず、バッファに出力してsprintfをコール

■　ＤＯＳ５、常駐時の不具合			(##156.96)
　ＭＳ-ＤＯＳＶｅｒ５にてＶＺを常駐モードで使用時、ファイル編集状態から[ESC]E
でコマンドラインへ移り、「外部コマンドを呼び出すバッチファイル」を実行すると、
「メモリアロケーションエラー」などが発生し、システムがハングアップしました。
　
■　ＤＯＳ４，５、非常駐時の不具合		(##156.97)
　Ｖｅｒ４以上のＭＳ-ＤＯＳにて非常駐モードで使用時、スワップモード「SW2」の
コード領域のスワップを実行すると、指定コマンドが実行されず、新たなCOMMAND.COM
が呼び出されてしまいました。

■　９８：２０行モード時のインジケータ		(##156.98)
　２０行（ハイレゾモードでは２５行）モードでは、インジケータを文字単位で動かす
ことで、上下がずれて表示されないようにしました。

■　ステータスラインのファイル名位置		(##156.99)
　ステータスラインのファイル名を、左側に表示する、オプション「Dh」を追加しま
した。縦分割時にはオプション「Dh」によらず、常に左端に表示します。
	Dh-		;ファイル名を左側に表示

■　ファイラーのディレクトリの選択		(##156.100)
　ファイラーでディレクトリも選択可能としました。ただし、ファイルオープン時に
ディレクトリが選択されていると、リターンが効きません。

■　ファイラーの英字キーによるファイル頭出し	(##156.101)
　ファイラーで「シフト＋英字キー」を押すと、その英字で始まるファイルへ順次
ジャンプします。

■　ファイラーの数字キーによるドライブ選択	(##156.102)
　ファイラーで数字キーを押すと、対応するドライブ（１→Ａ，２→Ｂ...）が直ちに
選択できます。

■　ファイラーのfree/totalサイズ表示		(##156.103)
　ファイラーのfree/totalのバイト数を、３桁毎にカンマで区切って表示します。

■　ファイルの属性ビット７			(##156.104)
　ファイルの属性ビット７を使用しているＬＡＮ上のファイルが、ファイラーで最初
から選択状態になってしまいました。

■　９８：画面モードの切り替え			(##156.105)
　「vz >nul」のように標準出力をｎｕｌリダイレクトさせてＶＺを起動すると、画面
モードが切り替わりませんでした。

■　９８：新ＪＩＳ文字の表示			(##156.106)
　ＰＣ９８０１（エプソン機は除く）で、オプション「Dg」を＋に設定すると、
新ＪＩＳ（ＪＩＳ８３）の次の３６文字を、９８のコードに変換して表示します。
　・ＪＩＳコード２８２１ｈ〜２８４０ｈの罫線３２文字
　・ＪＩＳコード７４２１ｈ〜７４２４ｈの追加４文字

■　テキスト先頭のマーク			(##156.107)
　テキスト先頭でのマークを可能にしました。

■　削除文字列の復活				(##156.108)
　従来は、行の長い文章で行頭、行末削除を行なうと、オプション「Bc」の値によらず
半角１２７文字までしか復活できませんでした。この制限を廃止し、「Bc」の設定値
一杯まで復活可能にしました。

■　プリフィックスキー押下時のＦＥＰオフ	(##156.109)
　オプション「FQ」を＋にすると、２ストロークコマンドや制御文字入力時にＦＥＰを
オフし、キー表示（ESC,^K,^Q,^）を確認する事ができます。
※　文字列の検索・置換を２ストロークコマンドで実行する場合は、ＦＥＰが
　　オフされたままになってしまいます。

■　マクロでＦＥＰの制御			(##156.110)
　マクロのシステム関数「&j(mode)」で、ＦＥＰを制御する事ができます。
	mode = 0  : ＦＥＰオフ
	mode > 0  : ＦＥＰ強制オン（FRオプションと同じ値を指定）
	mode = -1 : オフの前の状態復帰

■　カナロック時の数字キー入力			(##156.111)
　カナロック時のコマンド入力のための、「英字→カナの変換テーブル」を、数字キー
までに拡張しました。数字に対応する文字を、英字の後に追加します。
　また、親指シフトキーボードの[P],[Z]の入力にも対応しました。

■　タグジャンプの改良				(##156.112)
　タグジャンプのためのタグ行の判定方法を、全面的に改めました。正しいファイル名
かどうかを、ＤＯＳファンクションコールで調べます。それ以降に現れた数字は、その
直前が英字でない限り行番号とみなします。

■　マクロ実行中のハードエラー			(##156.113)
　マクロ実行中にハードエラーが発生した場合、Abort/Retryのキー入力で、続くマク
ロプログラムを実行してしまいました。また、サレントモードだと、ハードエラーの
メッセージが表示されませんでした。

■　拡張子付きディレクトリ下の.BAKファイル	(##156.114)
 例えば「\test.tst\tst」というファイルを.BAKファイル作成モードでセーブすると、
 「\test.bak」というファイルができてしまいました。

■　２画面分割時の画面モード切り替え		(##156.115)
　２画面分割でカーソルが下／右のウインドウにある時、画面の行数を切り替えると、
２つのファイルが入れ替わってしまいました。

■　ファイル名の変更時のオプション「FE」	(##156.116)
　ファイル名変更時に、オプション「FE」を更新します。

■　１つの大きなマクロを^K^で組み込む場合	(##156.117)
　マクロ番号で区分される１つのマクロのサイズが、ラインバッファのサイズを越えて
いると、^K^で組み込む際にシステムスタックを破壊して暴走します。これを

	ラインバッファがいっぱいです

というエラーメッセージを表示して、中断するようにしました。

■　再カスタマイズの残りメモリ表示		(##156.118)
　^K^でマクロを組み込むんだ際、マクロバッファの空きエリアのサイズを表示します。

	n 項目読み込みました.（???? bytes free）

※　その時点での空きエリアのサイズは、オプション「Bm」に格納されます。

■　１０ＭＢ以上のファイルの表示		(##156.119)
　サイズが１０ＭＢ以上のファイルをファイラーで表示すると、表示が右にずれました。
■　ＮｅｔＷａｒｅでのドライブ数		(##156.120)
　Ｎｏｖｅｌｌ ＮｅｔＷａｒｅで、ファイラーのドライブメニューが３２個表示され
てしまいました。これは、Ａ〜Ｚの２６個とします。

■　ファイラーの親ディレクトリ移動機能		(##156.121)
　ファイラーで、親ディレクトリ移動コマンドを追加しました。
	94	[BS]	:親ディレクトリ

こちらで[BS]を使う場合は、次のコマンドを[CLR]（９８版以外は[HOME]）に
変更してください。
	92	[CLR]	:先頭／最後

■　ＩＢＭ：アナログパレットの不具合		(##156.122)
　ＡＸマシン等のＥＧＡでは、パレットレジスタがリードできないため、ＶＺ終了後
画面が表示されなくなりました。
　また、画面の行数を切り替えると、アナログパレットが初期値に戻ってしまいまいた。
■　Ｊ３１、ＡＸ：最下行の予約			(##156.123)
　オプション「LC」を１とすると、最下行をＦＥＰ用に予約し、ファンクションキー
との競合を避けることができます。

■　ＡＴＯＫの確定再変換			(##156.125)
　９８版ＡＴＯＫ６の「CTRL+↓」での確定再変換に対応しました。

■　ＡＸ：日本語モードのカーソル形状		(##156.126)
　ＡＸマシンの日本語モードで、インサート／オーバーライトモードのカーソル形状が
変わらない場合がありました。

■　ファイラーで<End of Dir>が反転		(##156.127)
　ファイラーで２ウインドウを表示し、右ウインドウの先頭のファイルを選択すると、
左ウインドウの<End of Dir>が反転しました。

■　常駐ＶＺの呼出し				(##156.128)
　アプリケーションから、常駐したＶＺを呼び出す際、直前に実行したコマンドの一部
をパラメータと認識して誤動作する場合がありました。

■　９８：常駐時にCTRL+C			(##156.129)
　常駐時にCTRL+Cを押した後ＶＺの常駐を解除すると、カーソルキー等の特殊キーで
数字が入るようになってしまいました。

■　ＥＭＳが４ページ未満			(##156.130)
　ＥＭＳの残りが４ページ未満の環境で起動しない場合がありました。

■　ＩＢＭ：英語モードでＦＥＰ制御		(##156.132)
　ＩＢＭ版の英語モードでＦＥＰを制御しようとして、誤動作する場合がありました。

■　最下行の処理				(##156.133)
　９８以外の版で常駐時、最下行でコマンドを入力し、続いてＦＥＰをＯＮして全角文
字を入力しようとすると、コマンド名が２重に表示されました。

■　９８：タスクスイッチＯＮ時のCTRL+C		(##156.134)
　日電版ＤＯＳ５のdosshell上で、タスクスイッチＯＮにしてＶＺを呼び出すと、
CTRL+C でＤＯＳに落ちてしまいました。（これは日電版dosshellのバグです）

■　&#T(0)でconsoleファイル選択			(##156.135)
　コマンド関数&#63(n)（&#T(n)）で、n=0の時consoleファイルを開きます。

■　４８６でマクロの&i()			(##156.136)
　マクロのシステム関数&i()で直前のコード書き換えを行なっていたため、４８６
マシンで正常に動作しませんでした。

■　９８：CTRL+ファンクションキー		(##156.137)
　編集モードでのＤＯＳのCTRL+[f･n]キーの機能をマスクしました。また、ＤＯＳ
３.３以上でオプション「FK」を＋にすると、ＶＺ側でCTRL+[f･n]キーを利用できます。
　例:	66	^KL ^[F06]	:L 表示行数切替え ($lc)

■　画面モード切り替え時の New file		(##156.138)
　オプション「LC」で行数を指定している時、コマンドラインから新規ファイルを開く
と、編集画面で「新規ファイルです」というメッセージが表示されませんでした。

■　ＤＯＳ５、非常駐時の/?			(##156.140)
　ＭＳ-ＤＯＳＶｅｒ５にて、非常駐時に子プロセスから「<ｺﾏﾝﾄﾞ> /?」でヘルプを表示
しようとすると、常にCOMMAND.COMのヘルプが表示されてしまいました。

■　&f(c,str)					(##156.144)
　マクロのシステム関数「&f(c,str)」で、文字列strに同じ文字がある場合、後の方
の文字の位置を返していました。このため、ZENHAN.DEFで全角スペースが「A0h」
コードに変換されてしまいました。

■　MACRO.DOC内「指定桁折／連結」マクロ
　ブロック指定で複数行を連結すると、ブロック範囲外まで連結してしまいました。
（下から３行目）
	#d #g (ct<3)?{ #m >D } p-=2, >E
		↓
	#d #g (ct<3)?{ #m >D } p-=2, >A
				     ~~
■　BLOCK.DEF
　矩形ブロック削除／記憶後、１行を削除／記憶させると、次回の挿入で不正なデータ
が矩形ブロック挿入されてしまいました。

62 ^KK \[F08] "矩形ブロック記憶"
	m+, >01
1:
	?. (mb != 4)?{ (m)? #k ? #y . }
			↓
	?. (mb != 4)?{ cc=0, (m)? #k ? #y . }
		       ~~~~~
■　KEISEN.DEF
　カーソルがEOFの上にあると、外枠の描画が乱れました。

（２１行目）
	mi[, ei[, mi-, ei+,
	(ct)??{ #n #n }			; <-- v1.02 追加


《VZ Ver1.57a》

※ Ver1.57a では９８版の変更はありません。

■　J31:Ｊ３１００ＧＴ，ＳＬで表示不良		(##157.145)
　Ｊ３１００のＳＳ以前の機種で、画面が正常に表示されませんでした。

■　IBM:タスクスイッチ下の動作不良		(##157.147)
　ＶＺのＩＢＭ系列版を、ＤＯＳ５のＤＯＳシェルからタスクスイッチＯＮで
呼び出すと、１文字入力が正常に動作しませんでした。
［現象］・ファイラーで「Drive B: is not ready」が表示されてハング
	・編集時に、メニュー、ESCキーが効かない
これは、ＤＯＳシェルがINT16hをフックするため、ＦＥＰの強制マスクが正常に
処理されなくなったためです。よって、Ver1.57以前のバージョンでも、「-FP-」
とすると、動作します。Ver1.57aで、かなり際どい方法で対応しました。

■　AX:「も」「爛」の文字化け			(##157.151)
　「FK+」でＡＴＯＫ７使用時、「も」「爛」等、文字コードに E0h が含まれる全角
文字が、文字化けしました。





		-----------------------------------------
		　　６．使用上の注意事項
		-----------------------------------------


■　ＶＺの編集画面で、シフトキーを押してファンクションキーの表示を切り替えたい
　　ときは、あらかじめEZKEY.COMを常駐しておいてください。

■　ＶＺを-SW3で常駐する際は、他の常駐プログラム、ＦＥＰ等を組み込んだ後、
　　一番最後に常駐してください。メモリーアロケーションエラーが発生した場合は、
　　まずこの点をチェックしてください。

■　ＤＯＳ５付属のDOSKEYを常駐させていると、ＶＺを常駐してもコマンドラインの
　　処理を受け取れません。


==============================================================================
				End of readme.doc
==============================================================================
